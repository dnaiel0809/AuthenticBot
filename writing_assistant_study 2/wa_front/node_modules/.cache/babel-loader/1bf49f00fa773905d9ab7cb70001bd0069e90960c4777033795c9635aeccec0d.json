{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\nimport http from \"@/http\";\nimport VueMarkdown from \"vue-markdown\";\nimport EasyMDE from \"easymde\";\nimport \"easymde/dist/easymde.min.css\";\nimport VueSimpleRangeSlider from \"vue-simple-range-slider/vue2\";\nimport \"vue-simple-range-slider/vue2/css\";\nimport Vue from \"vue\";\nimport { BootstrapVue, IconsPlugin } from \"bootstrap-vue\";\n\n// Import Bootstrap and BootstrapVue CSS files (order is important)\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue);\nexport default {\n  name: \"WritingAssitantShow\",\n  components: {\n    VueMarkdown,\n    EasyMDE,\n    VueSimpleRangeSlider\n  },\n  mounted() {\n    this.fetchData();\n    this.enableOutputEditMode();\n    this.getWrtingStyleAndOrder();\n    //  检查是否是登录用户\n  },\n\n  data() {\n    return {\n      Pid: \"\",\n      testData: \"\",\n      edit: false,\n      p_edit: false,\n      sliderBool: false,\n      markdownContent: \"\",\n      prompts: null,\n      my_prompts: null,\n      drawer: false,\n      my_drawer: false,\n      direction: \"rtl\",\n      PromptRW: \"Write a support message around 200 words to response help-seeking post below using identified the most functions words and language styles: \",\n      seekingPost: [\"If life is a endless struggle then its not worth it\\n\\\n            I think about the happy moments in my life and they're so little\\\n            compared to the bad ones. Is this what life is all about? Is it\\\n            worth it? The people I thought would never leave me left me, my\\\n            family doesn't like the way I am and all the things I dreamt of\\\n            never worked. That's it? What am I living for? People tell me, oh\\\n            just wait, it will get better one day... but when? Why do we need\\\n            the suffer first to be happy?\", \"My son is gone\\n\\\n            My 3 year old son Zachary is gone, he passed away today at 1:36 pm.\\\n            He fought his entire life and was currently fighting severe combined\\\n            immunodeficiency/gvhd and several other infections. We spent 15\\\n            months in the Childrens Hospital and tomorrow will be our last day\\\n            there. My entire life revolved around my son and now that hes gone i\\\n            have no idea what to do or think. I am broken. I dont know what the\\\n            point of this post is. If you're reading this please hug your\\\n            children tight and tell them you love them for me, because i cant\\\n            anymore. Goodnight.\", \"My fiance M/30 said something shocking to me 27/F\\n\\\n        My fiance M/30 and I 27/F have been together for a year and so we\\\n            took an anniversary vacation. While we were traveling back, I told\\\n            him that I wanted to dye my hair, and he said \\\"You really think your\\\n            hair is the issue?\\\" When I asked what he meant, he said \\\"Look at the\\\n            way your shirt is stretched over your gut\\\" When I reminded him I've\\\n            lost 20 pounds and he's always complimented my body, he said \\\"That\\\n            was laying down. Standing up I see your shirt stretched over your\\\n            gut and it looks so disgusting to me\\\" I started crying from shock\\\n            and he said \\\"I'm not dealing with you crying over every little\\\n            thing, this is pathetic, I'm telling you the truth so you don't get\\\n            fat.\\\" (I work out 5x a week, cook us healthy meals, and avoid\\\n            sweets.) We are set to move and get married in 2 months. I love him\\\n            and the life we've built but I am devastated by his comments. I need\\\n            advice on what to do next, and if he's right and I'm being too\\\n            sensitive. TIA!\", \"I quit and was placed on the do not rehire list.\\n\\\n        I just quit a job at a retail pharmacy because of how toxic my\\\n            manager was. It was so disorganized. The drink coolers are full of\\\n            mold and I also had been out for about a month because of surgery\\\n            and recovery. My manager harassed me every week asking when I was\\\n            returning. She said she “wasn’t” aware I submitted FMLA (Family\\\n            medical leave act) but when I resubmitted it she got an email and\\\n            questioned me about it? She’s narcissistic and loves to throw things\\\n            in your face. I let her know I may be calling off work more often\\\n            due to my surgery and the unpredictability of when I’m not feeling\\\n            well. Last week I got so sick to the point I was throwing up and she\\\n            had the nerve to tell me not to call off because she has plans.\\\n            After I quit she kept saying I ruined her plans and not once during\\\n            my recovery did she even check on me to see if I was ok. I stayed\\\n            longer than I should have. I filed a complaint against her and I’m\\\n            encouraging my coworker to do the same since she’s made racist\\\n            remarks towards him (he’s black, shes white)\\\n        \"],\n      beforeEdit: \"\",\n      inputText: \"\",\n      inputText2: \"\",\n      inputText3: \"\",\n      inputText4: \"\",\n      mimicWriting: \"\",\n      style: \"\",\n      // models:['gpt-3.5-turbo', 'gpt-3.5-turbo-16k', 'gpt-4'],\n      models: [\"gpt-3.5-turbo\", \"gpt-3.5-turbo-16k\"],\n      selectedItem: \"gpt-4\",\n      editMode: true,\n      m_style: \"\",\n      markdownEditor: null,\n      markdownEditor2: null,\n      markdownEditor3: null,\n      markdownEditor4: null,\n      markdownOutputEditor: null,\n      toAttitudinalBool: false,\n      toExperientialBool: false,\n      toStyleLearningBool: true,\n      loading: true,\n      gLoading: true,\n      currentTab: \"Home\",\n      tabs: [\"Home\", \"Posts\", \"Archive\"],\n      order: [],\n      currentTask: 0\n    };\n  },\n  methods: {\n    fetchData() {\n      console.log(\"ID: \", this.$route.query);\n      this.Pid = this.$route.query.username;\n      const iframe = this.$refs.Iframe;\n      iframe.src = \"https://nus.syd1.qualtrics.com/jfe/form/SV_1RmdtNoQdRouHie?username=\" + this.Pid;\n    },\n    jumpyTo(url) {\n      if (this.$router.currentRoute.path !== url) {\n        this.$router.push(url);\n      }\n    },\n    messagePop(type, message) {\n      this.$message({\n        message: `${message}`,\n        type: `${type}`\n      });\n    },\n    enableOutputEditMode() {\n      const vm = this;\n      this.$nextTick(() => {\n        if (!this.markdown) {\n          this.markdownOutputEditor = new EasyMDE({\n            element: this.$refs.markdownEditorOutput\n          });\n          this.markdownOutputEditor.codemirror.setOption(\"readOnly\", true);\n          //设计样式\n          const codemirrorScroll = document.getElementsByClassName(\"CodeMirror-scroll\")[1];\n          if (codemirrorScroll) {\n            codemirrorScroll.style.maxHeight = \"800px\";\n            codemirrorScroll.style.overflowY = \"auto\";\n            console.log(\"successfully set\");\n          }\n        }\n      });\n    },\n    getWrtingStyleAndOrder() {\n      this.messagePop(\"success\", \"Take a few seconds to generate the support message. Please wait.\");\n      http.post(\"/get_google_sheet_linguistic_style/\", {\n        pid: this.Pid\n      }).then(res => {\n        this.style = res.data.style;\n        this.loading = false;\n        console.log(\"writing style:\", this.style);\n        this.currentTask = parseInt(res.data.current);\n        console.log(\"currentTask:\", this.currentTask);\n        this.order = [res.data.order1, res.data.order2, res.data.order3, res.data.order4];\n        console.log(\"order:\", this.order);\n        this.getWrtingAssistantHelp();\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    getWrtingAssistantHelp() {\n      console.log(\"order:\", parseInt(this.currentTask));\n      prompt = `${this.PromptRW}\\n\n                     ${this.style}\\n\n                     [help-seeking post]\\n\n                     ${this.seekingPost[this.order[parseInt(this.currentTask)]]}\\n `;\n      console.log(\"提交的数据是：\", prompt);\n      http.post(\"/writing_assistant/\", {\n        prompt: prompt,\n        model: this.selectedItem,\n        user: this.Pid,\n        currentTask: this.currentTask\n      }).then(res => {\n        this.gLoading = false;\n        this.markdownOutputEditor.value(res.data.content);\n        this.mimicWriting = res.data.content;\n        console.log(\"output Text:\", res.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    refreshDrawer() {\n      this.drawer = true;\n    },\n    submitWriting() {\n      // this.$router.push({ path: `/edit_writing/${this.mimicWriting}` });\n      // this.jumpyTo(\"/post_survey\");\n      //   this.$router.push({\n      //   name: 'edit_writing',\n      //   params: { text: this.mimicWriting}\n      // });\n      if (this.currentTask >= 4) return;\n      http.post(\"/update_current_task/\", {\n        pid: this.Pid\n      }).then(res => {\n        this.currentTask = res.data.current;\n        console.log(\"order:\", res);\n      }).catch(e => {\n        console.log(e);\n      });\n      this.$router.push({\n        path: \"/edit_writing\",\n        query: {\n          currentTask: this.currentTask,\n          Pid: this.Pid\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["http","VueMarkdown","EasyMDE","VueSimpleRangeSlider","Vue","BootstrapVue","IconsPlugin","use","name","components","mounted","fetchData","enableOutputEditMode","getWrtingStyleAndOrder","data","Pid","testData","edit","p_edit","sliderBool","markdownContent","prompts","my_prompts","drawer","my_drawer","direction","PromptRW","seekingPost","beforeEdit","inputText","inputText2","inputText3","inputText4","mimicWriting","style","models","selectedItem","editMode","m_style","markdownEditor","markdownEditor2","markdownEditor3","markdownEditor4","markdownOutputEditor","toAttitudinalBool","toExperientialBool","toStyleLearningBool","loading","gLoading","currentTab","tabs","order","currentTask","methods","console","log","$route","query","username","iframe","$refs","Iframe","src","jumpyTo","url","$router","currentRoute","path","push","messagePop","type","message","$message","vm","$nextTick","markdown","element","markdownEditorOutput","codemirror","setOption","codemirrorScroll","document","getElementsByClassName","maxHeight","overflowY","post","pid","then","res","parseInt","current","order1","order2","order3","order4","getWrtingAssistantHelp","catch","e","prompt","model","user","value","content","refreshDrawer","submitWriting"],"sources":["src/components/WritingAssitantShow.vue"],"sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');\n\n\n<template>\n  <div class=\"container\">\n    <div v-loading=\"loading\" class=\"translate-container\">\n      <b-row v-show=\"currentTask != '4'\" align=\"center\">\n        <p style=\"font-size: 2.5rem\">Example of your support message:</p>\n      </b-row>\n      <!--Task1-->\n      <div\n        v-show=\"order[currentTask] == '1'\"\n        class=\"grid-content-post2 bg-light\"\n      >\n        <div\n          class=\"fr-view u-clearfix u-hover-feature u-rich-text u-text u-text-1\"\n          data-animation-name=\"\"\n          data-animation-duration=\"0\"\n          data-animation-direction=\"\"\n        >\n          <h3 style=\"text-align: left\">\n            <span style=\"font-size: 2.5rem\"\n              >If life is a endless struggle then its not worth it\n              <br />\n            </span>\n          </h3>\n          <p><br /></p>\n\n          <p id=\"isPasted\" style=\"font-size: 1.5rem\">\n            I think about the happy moments in my life and they're so little\n            compared to the bad ones. Is this what life is all about? Is it\n            worth it? The people I thought would never leave me left me, my\n            family doesn't like the way I am and all the things I dreamt of\n            never worked. That's it? What am I living for? People tell me, oh\n            just wait, it will get better one day... but when? Why do we need\n            the suffer first to be happy?\n          </p>\n\n          <p><br /><br /><br /></p>\n        </div>\n      </div>\n\n      <!--Task2-->\n      <div\n        v-show=\"order[currentTask] == '2'\"\n        class=\"grid-content-post2 bg-light\"\n      >\n        <div\n          class=\"fr-view u-clearfix u-hover-feature u-rich-text u-text u-text-1\"\n          data-animation-name=\"\"\n          data-animation-duration=\"0\"\n          data-animation-direction=\"\"\n        >\n          <h3 style=\"text-align: left\">\n            <span style=\"font-size: 2.5rem\"\n              >My son is gone\n              <br />\n            </span>\n          </h3>\n          <p><br /></p>\n\n          <p id=\"isPasted\" style=\"font-size: 1.5rem\">\n            My 3 year old son Zachary is gone, he passed away today at 1:36 pm.\n            He fought his entire life and was currently fighting severe combined\n            immunodeficiency/gvhd and several other infections. We spent 15\n            months in the Childrens Hospital and tomorrow will be our last day\n            there. My entire life revolved around my son and now that hes gone i\n            have no idea what to do or think. I am broken. I dont know what the\n            point of this post is. If you're reading this please hug your\n            children tight and tell them you love them for me, because i cant\n            anymore. Goodnight.\n          </p>\n\n          <p><br /><br /><br /></p>\n        </div>\n      </div>\n\n      <!--Task3-->\n      <div\n        v-show=\"order[currentTask] == '3'\"\n        class=\"grid-content-post2 bg-light\"\n      >\n        <div\n          class=\"fr-view u-clearfix u-hover-feature u-rich-text u-text u-text-1\"\n          data-animation-name=\"\"\n          data-animation-duration=\"0\"\n          data-animation-direction=\"\"\n        >\n          <h3 style=\"text-align: left\">\n            <span style=\"font-size: 2.5rem\"\n              >My fiance M/30 said something shocking to me 27/F\n              <br />\n            </span>\n          </h3>\n          <p><br /></p>\n\n          <p id=\"isPasted\" style=\"font-size: 1.5rem\">\n            My fiance M/30 and I 27/F have been together for a year and so we\n            took an anniversary vacation. While we were traveling back, I told\n            him that I wanted to dye my hair, and he said \"You really think your\n            hair is the issue?\" When I asked what he meant, he said \"Look at the\n            way your shirt is stretched over your gut\" When I reminded him I've\n            lost 20 pounds and he's always complimented my body, he said \"That\n            was laying down. Standing up I see your shirt stretched over your\n            gut and it looks so disgusting to me\" I started crying from shock\n            and he said \"I'm not dealing with you crying over every little\n            thing, this is pathetic, I'm telling you the truth so you don't get\n            fat.\" (I work out 5x a week, cook us healthy meals, and avoid\n            sweets.) We are set to move and get married in 2 months. I love him\n            and the life we've built but I am devastated by his comments. I need\n            advice on what to do next, and if he's right and I'm being too\n            sensitive. TIA!\n          </p>\n          <p><br /><br /><br /></p>\n        </div>\n      </div>\n\n      <!--Task4-->\n      <div\n        v-show=\"order[currentTask] == '4'\"\n        class=\"grid-content-post2 bg-light\"\n      >\n        <div\n          class=\"fr-view u-clearfix u-hover-feature u-rich-text u-text u-text-1\"\n          data-animation-name=\"\"\n          data-animation-duration=\"0\"\n          data-animation-direction=\"\"\n        >\n          <h3 style=\"text-align: left\">\n            <span style=\"font-size: 2.5rem\"\n              >I quit and was placed on the do not rehire list.\n\n              <br />\n            </span>\n          </h3>\n          <p><br /></p>\n\n          <p style=\"font-size: 1.5rem\">\n            I just quit a job at a retail pharmacy because of how toxic my\n            manager was. It was so disorganized. The drink coolers are full of\n            mold and I also had been out for about a month because of surgery\n            and recovery. My manager harassed me every week asking when I was\n            returning. She said she “wasn’t” aware I submitted FMLA (Family\n            medical leave act) but when I resubmitted it she got an email and\n            questioned me about it? She’s narcissistic and loves to throw things\n            in your face. I let her know I may be calling off work more often\n            due to my surgery and the unpredictability of when I’m not feeling\n            well. Last week I got so sick to the point I was throwing up and she\n            had the nerve to tell me not to call off because she has plans.\n            After I quit she kept saying I ruined her plans and not once during\n            my recovery did she even check on me to see if I was ok. I stayed\n            longer than I should have. I filed a complaint against her and I’m\n            encouraging my coworker to do the same since she’s made racist\n            remarks towards him (he’s black, shes white)\n          </p>\n\n          <p><br /><br /><br /></p>\n        </div>\n      </div>\n\n      <div v-show=\"currentTask == '4'\" class=\"grid-content-post2 bg-light\">\n        <div\n          class=\"fr-view u-clearfix u-hover-feature u-rich-text u-text u-text-1\"\n          data-animation-name=\"\"\n          data-animation-duration=\"0\"\n          data-animation-direction=\"\"\n        >\n          <h3 style=\"text-align: left\">\n            <span style=\"font-size: 2.5rem\"\n              >finish\n              <br />\n            </span>\n          </h3>\n          <p><br /></p>\n\n          <p style=\"font-size: 1.5rem\">complete code</p>\n          <p style=\"font-size: 1.5rem\"></p>\n          <p style=\"font-size: 1.5rem\"></p>\n          <p><br /><br /><br /></p>\n        </div>\n      </div>\n    </div>\n\n    <el-col>\n      <div\n        v-show=\"currentTask != '4'\"\n        class=\"grid-content bg-light\"\n        v-loading=\"gLoading\"\n      >\n        <div class=\"label_container\" style=\"display: flex\">\n          <label\n            style=\"\n              font-family: Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\n              font-size: large;\n            \"\n          ></label>\n        </div>\n        <textarea\n          id=\"outputArea\"\n          ref=\"markdownEditorOutput\"\n          class=\"textarea\"\n        ></textarea>\n        <!-- <b-row align=\"center\">\n          <el-button @click=\"getRegenerateMimic\" type=\"primary\"\n            >Regenerate</el-button\n          >\n        </b-row> -->\n      </div>\n    </el-col>\n    <div v-show=\"currentTask != '4'\" v-loading=\"loading\" class=\"survey\">\n      <iframe ref=\"Iframe\" width=\"100%\" height=\"1300px\"></iframe>\n      <b-col align-v=\"center\">\n        <b-row align-self=\"center\"\n          ><center>\n            <p>Please first submit the survey then go the next task.</p>\n          </center></b-row\n        >\n\n        <b-row align-self=\"center\"\n          ><center>\n            <el-button @click=\"submitWriting\" type=\"primary\"\n              >Next task</el-button\n            >\n          </center></b-row\n        >\n      </b-col>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport http from \"@/http\";\nimport VueMarkdown from \"vue-markdown\";\nimport EasyMDE from \"easymde\";\nimport \"easymde/dist/easymde.min.css\";\nimport VueSimpleRangeSlider from \"vue-simple-range-slider/vue2\";\nimport \"vue-simple-range-slider/vue2/css\";\nimport Vue from \"vue\";\nimport { BootstrapVue, IconsPlugin } from \"bootstrap-vue\";\n\n// Import Bootstrap and BootstrapVue CSS files (order is important)\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue);\n\nexport default {\n  name: \"WritingAssitantShow\",\n  components: {\n    VueMarkdown,\n    EasyMDE,\n    VueSimpleRangeSlider,\n  },\n\n  mounted() {\n    this.fetchData();\n    this.enableOutputEditMode();\n    this.getWrtingStyleAndOrder();\n    //  检查是否是登录用户\n  },\n  data() {\n    return {\n      Pid: \"\",\n      testData: \"\",\n      edit: false,\n      p_edit: false,\n      sliderBool: false,\n      markdownContent: \"\",\n      prompts: null,\n      my_prompts: null,\n      drawer: false,\n      my_drawer: false,\n      direction: \"rtl\",\n\n      PromptRW:\n        \"Write a support message around 200 words to response help-seeking post below using identified the most functions words and language styles: \",\n\n      seekingPost: [\n        \"If life is a endless struggle then its not worth it\\n\\\n            I think about the happy moments in my life and they're so little\\\n            compared to the bad ones. Is this what life is all about? Is it\\\n            worth it? The people I thought would never leave me left me, my\\\n            family doesn't like the way I am and all the things I dreamt of\\\n            never worked. That's it? What am I living for? People tell me, oh\\\n            just wait, it will get better one day... but when? Why do we need\\\n            the suffer first to be happy?\",\n        \"My son is gone\\n\\\n            My 3 year old son Zachary is gone, he passed away today at 1:36 pm.\\\n            He fought his entire life and was currently fighting severe combined\\\n            immunodeficiency/gvhd and several other infections. We spent 15\\\n            months in the Childrens Hospital and tomorrow will be our last day\\\n            there. My entire life revolved around my son and now that hes gone i\\\n            have no idea what to do or think. I am broken. I dont know what the\\\n            point of this post is. If you're reading this please hug your\\\n            children tight and tell them you love them for me, because i cant\\\n            anymore. Goodnight.\",\n        \"My fiance M/30 said something shocking to me 27/F\\n\\\n        My fiance M/30 and I 27/F have been together for a year and so we\\\n            took an anniversary vacation. While we were traveling back, I told\\\n            him that I wanted to dye my hair, and he said \\\"You really think your\\\n            hair is the issue?\\\" When I asked what he meant, he said \\\"Look at the\\\n            way your shirt is stretched over your gut\\\" When I reminded him I've\\\n            lost 20 pounds and he's always complimented my body, he said \\\"That\\\n            was laying down. Standing up I see your shirt stretched over your\\\n            gut and it looks so disgusting to me\\\" I started crying from shock\\\n            and he said \\\"I'm not dealing with you crying over every little\\\n            thing, this is pathetic, I'm telling you the truth so you don't get\\\n            fat.\\\" (I work out 5x a week, cook us healthy meals, and avoid\\\n            sweets.) We are set to move and get married in 2 months. I love him\\\n            and the life we've built but I am devastated by his comments. I need\\\n            advice on what to do next, and if he's right and I'm being too\\\n            sensitive. TIA!\",\n        \"I quit and was placed on the do not rehire list.\\n\\\n        I just quit a job at a retail pharmacy because of how toxic my\\\n            manager was. It was so disorganized. The drink coolers are full of\\\n            mold and I also had been out for about a month because of surgery\\\n            and recovery. My manager harassed me every week asking when I was\\\n            returning. She said she “wasn’t” aware I submitted FMLA (Family\\\n            medical leave act) but when I resubmitted it she got an email and\\\n            questioned me about it? She’s narcissistic and loves to throw things\\\n            in your face. I let her know I may be calling off work more often\\\n            due to my surgery and the unpredictability of when I’m not feeling\\\n            well. Last week I got so sick to the point I was throwing up and she\\\n            had the nerve to tell me not to call off because she has plans.\\\n            After I quit she kept saying I ruined her plans and not once during\\\n            my recovery did she even check on me to see if I was ok. I stayed\\\n            longer than I should have. I filed a complaint against her and I’m\\\n            encouraging my coworker to do the same since she’s made racist\\\n            remarks towards him (he’s black, shes white)\\\n        \",\n      ],\n\n      beforeEdit: \"\",\n      inputText: \"\",\n      inputText2: \"\",\n      inputText3: \"\",\n      inputText4: \"\",\n\n      mimicWriting: \"\",\n      style: \"\",\n      // models:['gpt-3.5-turbo', 'gpt-3.5-turbo-16k', 'gpt-4'],\n      models: [\"gpt-3.5-turbo\", \"gpt-3.5-turbo-16k\"],\n      selectedItem: \"gpt-4\",\n\n      editMode: true,\n      m_style: \"\",\n      markdownEditor: null,\n      markdownEditor2: null,\n      markdownEditor3: null,\n      markdownEditor4: null,\n      markdownOutputEditor: null,\n\n      toAttitudinalBool: false,\n      toExperientialBool: false,\n      toStyleLearningBool: true,\n      loading: true,\n      gLoading: true,\n\n      currentTab: \"Home\",\n      tabs: [\"Home\", \"Posts\", \"Archive\"],\n\n      order: [],\n      currentTask: 0,\n    };\n  },\n\n  methods: {\n    fetchData() {\n      console.log(\"ID: \", this.$route.query);\n      this.Pid = this.$route.query.username;\n      const iframe = this.$refs.Iframe;\n      iframe.src =\n        \"https://nus.syd1.qualtrics.com/jfe/form/SV_1RmdtNoQdRouHie?username=\" +\n        this.Pid;\n    },\n    jumpyTo(url) {\n      if (this.$router.currentRoute.path !== url) {\n        this.$router.push(url);\n      }\n    },\n\n    messagePop(type, message) {\n      this.$message({\n        message: `${message}`,\n        type: `${type}`,\n      });\n    },\n\n    enableOutputEditMode() {\n      const vm = this;\n      this.$nextTick(() => {\n        if (!this.markdown) {\n          this.markdownOutputEditor = new EasyMDE({\n            element: this.$refs.markdownEditorOutput,\n          });\n          this.markdownOutputEditor.codemirror.setOption(\"readOnly\", true);\n          //设计样式\n          const codemirrorScroll =\n            document.getElementsByClassName(\"CodeMirror-scroll\")[1];\n          if (codemirrorScroll) {\n            codemirrorScroll.style.maxHeight = \"800px\";\n            codemirrorScroll.style.overflowY = \"auto\";\n            console.log(\"successfully set\");\n          }\n        }\n      });\n    },\n\n    getWrtingStyleAndOrder() {\n      this.messagePop(\n        \"success\",\n        \"Take a few seconds to generate the support message. Please wait.\"\n      );\n      http\n        .post(\"/get_google_sheet_linguistic_style/\", {\n          pid: this.Pid,\n        })\n        .then((res) => {\n          this.style = res.data.style;\n          this.loading = false;\n          console.log(\"writing style:\", this.style);\n          this.currentTask = parseInt(res.data.current);\n          console.log(\"currentTask:\", this.currentTask);\n          this.order = [\n            res.data.order1,\n            res.data.order2,\n            res.data.order3,\n            res.data.order4,\n          ];\n          console.log(\"order:\", this.order);\n          this.getWrtingAssistantHelp();\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n\n    getWrtingAssistantHelp() {\n      console.log(\"order:\", parseInt(this.currentTask));\n      prompt = `${this.PromptRW}\\n\n                     ${this.style}\\n\n                     [help-seeking post]\\n\n                     ${this.seekingPost[this.order[parseInt(this.currentTask)]]}\\n `;\n\n      console.log(\"提交的数据是：\", prompt);\n      http\n        .post(\"/writing_assistant/\", {\n          prompt: prompt,\n          model: this.selectedItem,\n          user: this.Pid,\n          currentTask: this.currentTask,\n        })\n        .then((res) => {\n          this.gLoading = false;\n          this.markdownOutputEditor.value(res.data.content);\n          this.mimicWriting = res.data.content;\n          console.log(\"output Text:\", res.data);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n\n    refreshDrawer() {\n      this.drawer = true;\n    },\n\n    submitWriting() {\n      // this.$router.push({ path: `/edit_writing/${this.mimicWriting}` });\n      // this.jumpyTo(\"/post_survey\");\n      //   this.$router.push({\n      //   name: 'edit_writing',\n      //   params: { text: this.mimicWriting}\n      // });\n      if (this.currentTask >= 4) return;\n      http\n        .post(\"/update_current_task/\", {\n          pid: this.Pid,\n        })\n        .then((res) => {\n          this.currentTask = res.data.current;\n          console.log(\"order:\", res);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n\n      this.$router.push({\n        path: \"/edit_writing\",\n        query: { currentTask: this.currentTask, Pid: this.Pid },\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  background: white;\n  width: 75%;\n  height: 2800px;\n  margin: auto;\n}\n.header {\n  margin-left: 4em;\n  /*margin-top: 4em;*/\n  padding-top: 4em;\n  display: flex;\n}\n\n.button {\n  /*width: 100px;*/\n  width: 10%;\n}\n\n.drop-item {\n  /*width: 500px;*/\n  font-family: ColfaxAI, helvetica, sans-serif;\n  font-size: small;\n  /*white-space: normal;*/\n  /*word-wrap: break-word;*/\n}\n\n.translate-container {\n  padding: 20px;\n}\n\n.grid-content {\n  height: 550px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.grid-content-post {\n  height: 350px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.grid-content-post2 {\n  height: 500px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.slider-content {\n  height: 450px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n  padding-right: 4em;\n}\n\n.bg-light {\n  padding: 20px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.textarea {\n  padding-top: 1em;\n  padding-left: 1em;\n  padding-right: 1em;\n  padding-bottom: 1em;\n  height: 550px;\n\n  /*font-family: 'Arial', sans-serif; !* 这将更改字体 *!*/\n  font-family: \"Roboto\", sans-serif;\n  font-size: 16px; /* 这将更改字体大小 */\n  color: #333; /* 这将更改文本颜色 */\n  line-height: 1.5; /* 这将更改行高 */\n  letter-spacing: 0.05em; /* 这将更改字符间距 */\n  text-align: justify; /* 这将使文本两端对齐 */\n  overflow-y: scroll;\n}\n\n.el-icon-arrow-down {\n  font-size: 12px;\n}\n\n.el-menu-item i {\n  float: right;\n  margin-top: 5px;\n  cursor: pointer;\n}\n\n.example {\n  background: #ffffff;\n  margin: 20px;\n  border-color: #e7e7e7;\n  padding: 40px;\n}\n</style>\n\n"],"mappings":";AAuOA;;AAEA,OAAAA,IAAA;AACA,OAAAC,WAAA;AACA,OAAAC,OAAA;AACA;AACA,OAAAC,oBAAA;AACA;AACA,OAAAC,GAAA;AACA,SAAAC,YAAA,EAAAC,WAAA;;AAEA;AACA;AACA;;AAEA;AACAF,GAAA,CAAAG,GAAA,CAAAF,YAAA;AAEA;EACAG,IAAA;EACAC,UAAA;IACAR,WAAA;IACAC,OAAA;IACAC;EACA;EAEAO,QAAA;IACA,KAAAC,SAAA;IACA,KAAAC,oBAAA;IACA,KAAAC,sBAAA;IACA;EACA;;EACAC,KAAA;IACA;MACAC,GAAA;MACAC,QAAA;MACAC,IAAA;MACAC,MAAA;MACAC,UAAA;MACAC,eAAA;MACAC,OAAA;MACAC,UAAA;MACAC,MAAA;MACAC,SAAA;MACAC,SAAA;MAEAC,QAAA,EACA;MAEAC,WAAA,GACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UACA;MAEAC,UAAA;MACAC,SAAA;MACAC,UAAA;MACAC,UAAA;MACAC,UAAA;MAEAC,YAAA;MACAC,KAAA;MACA;MACAC,MAAA;MACAC,YAAA;MAEAC,QAAA;MACAC,OAAA;MACAC,cAAA;MACAC,eAAA;MACAC,eAAA;MACAC,eAAA;MACAC,oBAAA;MAEAC,iBAAA;MACAC,kBAAA;MACAC,mBAAA;MACAC,OAAA;MACAC,QAAA;MAEAC,UAAA;MACAC,IAAA;MAEAC,KAAA;MACAC,WAAA;IACA;EACA;EAEAC,OAAA;IACA1C,UAAA;MACA2C,OAAA,CAAAC,GAAA,cAAAC,MAAA,CAAAC,KAAA;MACA,KAAA1C,GAAA,QAAAyC,MAAA,CAAAC,KAAA,CAAAC,QAAA;MACA,MAAAC,MAAA,QAAAC,KAAA,CAAAC,MAAA;MACA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"},"metadata":{},"sourceType":"module","externalDependencies":[]}