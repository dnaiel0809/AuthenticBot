{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\nimport \"easymde/dist/easymde.min.css\";\nimport \"vue-simple-range-slider/vue2/css\";\nimport Vue from \"vue\";\nimport { BootstrapVue, IconsPlugin } from \"bootstrap-vue\";\n\n// Import Bootstrap and BootstrapVue CSS files (order is important)\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue);\nexport default {\n  name: \"PreSurvey\",\n  components: {\n    // VueMarkdown,\n    // EasyMDE,\n    // VueSimpleRangeSlider,\n  },\n  mounted() {\n    this.fetchData();\n    this.scrollToTop();\n    this.addSurveyListener();\n    this.cannotGoback();\n  },\n  data() {\n    return {\n      Pid: \"\",\n      nextPageBool: false,\n      condition: \"\"\n    };\n  },\n  methods: {\n    fetchData() {\n      console.log(\"ID: \", this.$route.query);\n      this.Pid = this.$route.query.Pid;\n      this.condition = this.$route.query.condition;\n      this.addHashToLocation();\n    },\n    scrollToTop() {\n      window.scrollTo(0, 2);\n    },\n    jumpyTo(url) {\n      if (this.$router.currentRoute.path !== url) {\n        console.log(this.Pid);\n        this.$router.push({\n          path: url,\n          query: {\n            Pid: this.Pid,\n            condition: this.condition\n          }\n        });\n      }\n    },\n    messagePop(type, message) {\n      this.$message({\n        message: `${message}`,\n        type: `${type}`\n      });\n    },\n    cannotGoback() {\n      window.onpopstate = function () {\n        history.go(1);\n      };\n    },\n    addHashToLocation() {\n      let params = \"?PID=\" + this.Pid + \"&condition=\" + this.condition;\n      // history.pushState({}, null, this.$route.path + \"#\" + params);\n      const iframe = this.$refs.Iframe;\n      iframe.src = \"https://nus.syd1.qualtrics.com/jfe/form/SV_3Q4FB3BL0PmVMEu\" + params;\n    },\n    submitWriting() {\n      console.log(\"contition:\", this.condition);\n      if (this.condition == \"1\") this.jumpyTo(\"/writing_assistant\");else if (this.condition == \"5\") this.jumpyTo(\"/writing_assitant_show\");else if (this.condition == \"4\") this.jumpyTo(\"/writing_assitant_show\");else this.jumpyTo(\"/training_session\");\n    },\n    addSurveyListener() {\n      window.addEventListener(\"message\", e => {\n        console.log(e);\n        if (e.origin.includes(\"https://nus.syd1.qualtrics.com\") && e.data.includes(\"QualtricsEOS|SV_3Q4FB3BL0PmVMEu\")) {\n          // this.nextPageBool = true;\n\n          console.log(\"survey end\");\n          this.submitWriting();\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["Vue","BootstrapVue","IconsPlugin","use","name","components","mounted","fetchData","scrollToTop","addSurveyListener","cannotGoback","data","Pid","nextPageBool","condition","methods","console","log","$route","query","addHashToLocation","window","scrollTo","jumpyTo","url","$router","currentRoute","path","push","messagePop","type","message","$message","onpopstate","history","go","params","iframe","$refs","Iframe","src","submitWriting","addEventListener","e","origin","includes"],"sources":["src/components/PreSurvey.vue"],"sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');\n\n<template>\n  <div class=\"container\">\n    <iframe ref=\"Iframe\" width=\"100%\" height=\"1300px\"></iframe>\n    <b-row align-self=\"center\"\n      ><center>\n        <el-button\n          v-show=\"nextPageBool\"\n          style=\"margin: 10px\"\n          @click=\"submitWriting\"\n          type=\"primary\"\n          >Next page</el-button\n        >\n      </center></b-row\n    >\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport \"easymde/dist/easymde.min.css\";\n\nimport \"vue-simple-range-slider/vue2/css\";\nimport Vue from \"vue\";\nimport { BootstrapVue, IconsPlugin } from \"bootstrap-vue\";\n\n// Import Bootstrap and BootstrapVue CSS files (order is important)\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue);\n\nexport default {\n  name: \"PreSurvey\",\n  components: {\n    // VueMarkdown,\n    // EasyMDE,\n    // VueSimpleRangeSlider,\n  },\n\n  mounted() {\n    this.fetchData();\n    this.scrollToTop();\n    this.addSurveyListener();\n    this.cannotGoback();\n  },\n  data() {\n    return { Pid: \"\", nextPageBool: false, condition: \"\" };\n  },\n\n  methods: {\n    fetchData() {\n      console.log(\"ID: \", this.$route.query);\n      this.Pid = this.$route.query.Pid;\n      this.condition = this.$route.query.condition;\n      this.addHashToLocation();\n    },\n    scrollToTop() {\n      window.scrollTo(0, 2);\n    },\n    jumpyTo(url) {\n      if (this.$router.currentRoute.path !== url) {\n        console.log(this.Pid);\n        this.$router.push({\n          path: url,\n          query: { Pid: this.Pid, condition: this.condition },\n        });\n      }\n    },\n\n    messagePop(type, message) {\n      this.$message({\n        message: `${message}`,\n        type: `${type}`,\n      });\n    },\n    cannotGoback() {\n      window.onpopstate = function () {\n        history.go(1);\n      };\n    },\n    addHashToLocation() {\n      let params = \"?PID=\" + this.Pid + \"&condition=\" + this.condition;\n      // history.pushState({}, null, this.$route.path + \"#\" + params);\n      const iframe = this.$refs.Iframe;\n      iframe.src =\n        \"https://nus.syd1.qualtrics.com/jfe/form/SV_3Q4FB3BL0PmVMEu\" + params;\n    },\n\n    submitWriting() {\n      console.log(\"contition:\", this.condition);\n      if (this.condition == \"1\") this.jumpyTo(\"/writing_assistant\");\n      else if(this.condition == \"5\") this.jumpyTo(\"/writing_assitant_show\");\n      else if(this.condition == \"4\") this.jumpyTo(\"/writing_assitant_show\");\n      else this.jumpyTo(\"/training_session\");\n    },\n\n    addSurveyListener() {\n      window.addEventListener(\"message\", (e) => {\n        console.log(e);\n        if (\n          e.origin.includes(\"https://nus.syd1.qualtrics.com\") &&\n          e.data.includes(\"QualtricsEOS|SV_3Q4FB3BL0PmVMEu\")\n        ) {\n          // this.nextPageBool = true;\n\n          console.log(\"survey end\");\n          this.submitWriting();\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  background: white;\n  width: 90%;\n  height: auto;\n  margin: auto;\n}\n.header {\n  margin-left: 4em;\n  /*margin-top: 4em;*/\n  padding-top: 4em;\n  display: flex;\n}\n\n.button {\n  /*width: 100px;*/\n  width: 10%;\n}\n\n.drop-item {\n  /*width: 500px;*/\n  font-family: ColfaxAI, helvetica, sans-serif;\n  font-size: small;\n  /*white-space: normal;*/\n  /*word-wrap: break-word;*/\n}\n\n.translate-container {\n  padding: 20px;\n}\n\n.grid-content {\n  height: 550px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.grid-content-post {\n  height: 350px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.grid-content-post2 {\n  height: 500px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.slider-content {\n  height: 450px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n  padding-right: 4em;\n}\n\n.bg-light {\n  padding: 20px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.textarea {\n  padding-top: 1em;\n  padding-left: 1em;\n  padding-right: 1em;\n  padding-bottom: 1em;\n  height: 550px;\n\n  /*font-family: 'Arial', sans-serif; !* 这将更改字体 *!*/\n  font-family: \"Roboto\", sans-serif;\n  font-size: 16px; /* 这将更改字体大小 */\n  color: #333; /* 这将更改文本颜色 */\n  line-height: 1.5; /* 这将更改行高 */\n  letter-spacing: 0.05em; /* 这将更改字符间距 */\n  text-align: justify; /* 这将使文本两端对齐 */\n  overflow-y: scroll;\n}\n\n.el-icon-arrow-down {\n  font-size: 12px;\n}\n\n.el-menu-item i {\n  float: right;\n  margin-top: 5px;\n  cursor: pointer;\n}\n\n.example {\n  background: #ffffff;\n  margin: 20px;\n  border-color: #e7e7e7;\n  padding: 40px;\n}\n</style>\n"],"mappings":";AAoBA;;AAEA;AAEA;AACA,OAAAA,GAAA;AACA,SAAAC,YAAA,EAAAC,WAAA;;AAEA;AACA;AACA;;AAEA;AACAF,GAAA,CAAAG,GAAA,CAAAF,YAAA;AAEA;EACAG,IAAA;EACAC,UAAA;IACA;IACA;IACA;EAAA,CACA;EAEAC,QAAA;IACA,KAAAC,SAAA;IACA,KAAAC,WAAA;IACA,KAAAC,iBAAA;IACA,KAAAC,YAAA;EACA;EACAC,KAAA;IACA;MAAAC,GAAA;MAAAC,YAAA;MAAAC,SAAA;IAAA;EACA;EAEAC,OAAA;IACAR,UAAA;MACAS,OAAA,CAAAC,GAAA,cAAAC,MAAA,CAAAC,KAAA;MACA,KAAAP,GAAA,QAAAM,MAAA,CAAAC,KAAA,CAAAP,GAAA;MACA,KAAAE,SAAA,QAAAI,MAAA,CAAAC,KAAA,CAAAL,SAAA;MACA,KAAAM,iBAAA;IACA;IACAZ,YAAA;MACAa,MAAA,CAAAC,QAAA;IACA;IACAC,QAAAC,GAAA;MACA,SAAAC,OAAA,CAAAC,YAAA,CAAAC,IAAA,KAAAH,GAAA;QACAR,OAAA,CAAAC,GAAA,MAAAL,GAAA;QACA,KAAAa,OAAA,CAAAG,IAAA;UACAD,IAAA,EAAAH,GAAA;UACAL,KAAA;YAAAP,GAAA,OAAAA,GAAA;YAAAE,SAAA,OAAAA;UAAA;QACA;MACA;IACA;IAEAe,WAAAC,IAAA,EAAAC,OAAA;MACA,KAAAC,QAAA;QACAD,OAAA,KAAAA,OAAA;QACAD,IAAA,KAAAA,IAAA;MACA;IACA;IACApB,aAAA;MACAW,MAAA,CAAAY,UAAA;QACAC,OAAA,CAAAC,EAAA;MACA;IACA;IACAf,kBAAA;MACA,IAAAgB,MAAA,kBAAAxB,GAAA,wBAAAE,SAAA;MACA;MACA,MAAAuB,MAAA,QAAAC,KAAA,CAAAC,MAAA;MACAF,MAAA,CAAAG,GAAA,GACA,+DAAAJ,MAAA;IACA;IAEAK,cAAA;MACAzB,OAAA,CAAAC,GAAA,oBAAAH,SAAA;MACA,SAAAA,SAAA,cAAAS,OAAA,4BACA,SAAAT,SAAA,cAAAS,OAAA,gCACA,SAAAT,SAAA,cAAAS,OAAA,gCACA,KAAAA,OAAA;IACA;IAEAd,kBAAA;MACAY,MAAA,CAAAqB,gBAAA,YAAAC,CAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,CAAA;QACA,IACAA,CAAA,CAAAC,MAAA,CAAAC,QAAA,sCACAF,CAAA,CAAAhC,IAAA,CAAAkC,QAAA,qCACA;UACA;;UAEA7B,OAAA,CAAAC,GAAA;UACA,KAAAwB,aAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}