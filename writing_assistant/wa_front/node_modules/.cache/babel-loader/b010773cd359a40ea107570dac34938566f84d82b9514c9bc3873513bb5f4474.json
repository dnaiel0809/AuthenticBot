{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\nimport http from \"@/http\";\nimport VueMarkdown from \"vue-markdown\";\nimport EasyMDE from \"easymde\";\nimport \"easymde/dist/easymde.min.css\";\nimport VueSimpleRangeSlider from \"vue-simple-range-slider/vue2\";\nimport \"vue-simple-range-slider/vue2/css\";\nimport Vue from \"vue\";\nimport { BootstrapVue, IconsPlugin } from \"bootstrap-vue\";\n\n// Import Bootstrap and BootstrapVue CSS files (order is important)\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue);\nexport default {\n  name: \"PostSurvey\",\n  components: {\n    // VueMarkdown,\n    // EasyMDE,\n    // VueSimpleRangeSlider,\n  },\n  mounted() {\n    this.fetchData();\n    this.uploadTime();\n    this.scrollToTop();\n    // this.enableEditMode();\n    this.addSurveyListener();\n    // this.enableOutputEditMode();\n\n    //  检查是否是登录用户\n  },\n\n  data() {\n    return {\n      Pid: \"\",\n      condition: \"\"\n    };\n  },\n  methods: {\n    fetchData() {\n      console.log(\"Params: \", this.$route.query.currentTask);\n      console.log(\"Params: \", this.$route.query.Pid);\n      this.Pid = this.$route.query.Pid;\n      this.condition = this.$route.query.condition;\n      this.addHashToLocation();\n    },\n    scrollToTop() {\n      window.scrollTo(0, 2);\n    },\n    jumpyTo(url) {\n      if (this.$router.currentRoute.path !== url) {\n        this.$router.push(url);\n      }\n    },\n    messagePop(type, message) {\n      this.$message({\n        message: `${message}`,\n        type: `${type}`\n      });\n    },\n    getWrtingAssistantHelp() {\n      this.loading = true;\n      this.generateBool = true;\n      let prompt = `[Help-seeking post]\\n \n                    ${this.seeking_post}\\n\n                    [User\\'s attitude]\\n\n                    ${this.inputText}\\n\n                    [Task]\n                    ${this.Prompt}\\n\n                    [RESULT]\\n\\n`;\n      console.log(\"提交的数据是：\", prompt);\n      http.post(\"/writing_assistant/\", {\n        prompt: prompt,\n        model: this.selectedItem\n      }).then(res => {\n        this.loading = false;\n        this.outputText = res.data.content;\n        this.markdownOutputEditor.value(this.outputText);\n        console.log(\"output Text:\", res.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    addHashToLocation() {\n      let params = \"?PID=\" + this.Pid + \"&condition=\" + this.condition;\n      const iframe = this.$refs.Iframe;\n      iframe.src = \"https://nus.syd1.qualtrics.com/jfe/form/SV_38ko6EBQRfyZZvU\" + params;\n    },\n    submitWriting() {\n      this.jumpyTo(\"/post_survey\");\n    },\n    uploadTime() {\n      http.post(\"/update_time_row/\", {\n        pid: this.Pid,\n        training_start_1: sessionStorage.getItem(\"training_start_1\"),\n        training_start_2: sessionStorage.getItem(\"training_start_2\"),\n        training_start_3: sessionStorage.getItem(\"training_start_3\"),\n        training_start_4: sessionStorage.getItem(\"training_start_4\"),\n        training_end_1: sessionStorage.getItem(\"training_end_1\"),\n        training_end_2: sessionStorage.getItem(\"training_end_2\"),\n        training_end_3: sessionStorage.getItem(\"training_end_3\"),\n        training_end_4: sessionStorage.getItem(\"training_end_4\"),\n        main_task_start_1: sessionStorage.getItem(\"main_task_start_1\"),\n        main_task_start_2: sessionStorage.getItem(\"main_task_start_2\"),\n        main_task_end_1: sessionStorage.getItem(\"main_task_end_1\"),\n        main_task_end_2: sessionStorage.getItem(\"main_task_end_2\"),\n        editing_end_1: sessionStorage.getItem(\"editing_end_1\"),\n        editing_end_2: sessionStorage.getItem(\"editing_end_2\")\n      }).then(res => {\n        console.log(\"success upload time\");\n      }).catch(e => {\n        console.log(e);\n      });\n      return;\n    },\n    addSurveyListener() {\n      window.addEventListener(\"message\", e => {\n        console.log(e);\n        if (e.origin.includes(\"https://nus.syd1.qualtrics.com\") && e.data.includes(\"QualtricsEOS|SV_38ko6EBQRfyZZvU\")) {\n          window.location.href = \"https://app.prolific.co/submissions/complete?cc=C7R2DB6M\";\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["http","VueMarkdown","EasyMDE","VueSimpleRangeSlider","Vue","BootstrapVue","IconsPlugin","use","name","components","mounted","fetchData","uploadTime","scrollToTop","addSurveyListener","data","Pid","condition","methods","console","log","$route","query","currentTask","addHashToLocation","window","scrollTo","jumpyTo","url","$router","currentRoute","path","push","messagePop","type","message","$message","getWrtingAssistantHelp","loading","generateBool","prompt","seeking_post","inputText","Prompt","post","model","selectedItem","then","res","outputText","content","markdownOutputEditor","value","catch","e","params","iframe","$refs","Iframe","src","submitWriting","pid","training_start_1","sessionStorage","getItem","training_start_2","training_start_3","training_start_4","training_end_1","training_end_2","training_end_3","training_end_4","main_task_start_1","main_task_start_2","main_task_end_1","main_task_end_2","editing_end_1","editing_end_2","addEventListener","origin","includes","location","href"],"sources":["src/components/PostSurvey.vue"],"sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');\n\n\n<template>\n  <div class=\"container\">\n    <iframe ref=\"Iframe\" width=\"100%\" height=\"1300px\"></iframe>\n    <!-- <b-row align-self=\"center\"\n      ><center>\n        <el-button @click=\"submitWriting\" type=\"primary\">Next page</el-button>\n      </center></b-row\n    > -->\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport http from \"@/http\";\nimport VueMarkdown from \"vue-markdown\";\nimport EasyMDE from \"easymde\";\nimport \"easymde/dist/easymde.min.css\";\nimport VueSimpleRangeSlider from \"vue-simple-range-slider/vue2\";\nimport \"vue-simple-range-slider/vue2/css\";\nimport Vue from \"vue\";\nimport { BootstrapVue, IconsPlugin } from \"bootstrap-vue\";\n\n// Import Bootstrap and BootstrapVue CSS files (order is important)\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue);\n\nexport default {\n  name: \"PostSurvey\",\n  components: {\n    // VueMarkdown,\n    // EasyMDE,\n    // VueSimpleRangeSlider,\n  },\n\n  mounted() {\n    this.fetchData();\n    this.uploadTime();\n    this.scrollToTop();\n    // this.enableEditMode();\n    this.addSurveyListener();\n    // this.enableOutputEditMode();\n\n    //  检查是否是登录用户\n  },\n  data() {\n    return {\n      Pid: \"\",\n      condition: \"\",\n    };\n  },\n\n  methods: {\n    fetchData() {\n      console.log(\"Params: \", this.$route.query.currentTask);\n      console.log(\"Params: \", this.$route.query.Pid);\n      this.Pid = this.$route.query.Pid;\n      this.condition = this.$route.query.condition;\n      this.addHashToLocation();\n    },\n    scrollToTop() {\n      window.scrollTo(0, 2);\n    },\n    jumpyTo(url) {\n      if (this.$router.currentRoute.path !== url) {\n        this.$router.push(url);\n      }\n    },\n\n    messagePop(type, message) {\n      this.$message({\n        message: `${message}`,\n        type: `${type}`,\n      });\n    },\n\n    getWrtingAssistantHelp() {\n      this.loading = true;\n      this.generateBool = true;\n\n      let prompt = `[Help-seeking post]\\n \n                    ${this.seeking_post}\\n\n                    [User\\'s attitude]\\n\n                    ${this.inputText}\\n\n                    [Task]\n                    ${this.Prompt}\\n\n                    [RESULT]\\n\\n`;\n\n      console.log(\"提交的数据是：\", prompt);\n      http\n        .post(\"/writing_assistant/\", {\n          prompt: prompt,\n          model: this.selectedItem,\n        })\n        .then((res) => {\n          this.loading = false;\n          this.outputText = res.data.content;\n          this.markdownOutputEditor.value(this.outputText);\n          console.log(\"output Text:\", res.data);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n    addHashToLocation() {\n      let params = \"?PID=\" + this.Pid + \"&condition=\" + this.condition;\n\n      const iframe = this.$refs.Iframe;\n      iframe.src =\n        \"https://nus.syd1.qualtrics.com/jfe/form/SV_38ko6EBQRfyZZvU\" + params;\n    },\n\n    submitWriting() {\n      this.jumpyTo(\"/post_survey\");\n    },\n    uploadTime() {\n      http\n        .post(\"/update_time_row/\", {\n          pid: this.Pid,\n          training_start_1: sessionStorage.getItem(\"training_start_1\"),\n          training_start_2: sessionStorage.getItem(\"training_start_2\"),\n          training_start_3: sessionStorage.getItem(\"training_start_3\"),\n          training_start_4: sessionStorage.getItem(\"training_start_4\"),\n          training_end_1: sessionStorage.getItem(\"training_end_1\"),\n          training_end_2: sessionStorage.getItem(\"training_end_2\"),\n          training_end_3: sessionStorage.getItem(\"training_end_3\"),\n          training_end_4: sessionStorage.getItem(\"training_end_4\"),\n          main_task_start_1: sessionStorage.getItem(\"main_task_start_1\"),\n          main_task_start_2: sessionStorage.getItem(\"main_task_start_2\"),\n          main_task_end_1: sessionStorage.getItem(\"main_task_end_1\"),\n          main_task_end_2: sessionStorage.getItem(\"main_task_end_2\"),\n          editing_end_1: sessionStorage.getItem(\"editing_end_1\"),\n          editing_end_2: sessionStorage.getItem(\"editing_end_2\")\n        })\n        .then((res) => {\n          console.log(\"success upload time\");\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n      return;\n    },\n    addSurveyListener() {\n      window.addEventListener(\"message\", (e) => {\n        console.log(e);\n        if (\n          e.origin.includes(\"https://nus.syd1.qualtrics.com\") &&\n          e.data.includes(\"QualtricsEOS|SV_38ko6EBQRfyZZvU\")\n        ) {\n          \n          window.location.href = \"https://app.prolific.co/submissions/complete?cc=C7R2DB6M\";\n\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  background: white;\n  width: 90%;\n  height: auto;\n  margin: auto;\n}\n.header {\n  margin-left: 4em;\n  /*margin-top: 4em;*/\n  padding-top: 4em;\n  display: flex;\n}\n\n.button {\n  /*width: 100px;*/\n  width: 10%;\n}\n\n.drop-item {\n  /*width: 500px;*/\n  font-family: ColfaxAI, helvetica, sans-serif;\n  font-size: small;\n  /*white-space: normal;*/\n  /*word-wrap: break-word;*/\n}\n\n.translate-container {\n  padding: 20px;\n}\n\n.grid-content {\n  height: 550px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.grid-content-post {\n  height: 350px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.grid-content-post2 {\n  height: 500px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n}\n\n.slider-content {\n  height: 450px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding-left: 4em;\n  padding-right: 4em;\n}\n\n.bg-light {\n  padding: 20px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.textarea {\n  padding-top: 1em;\n  padding-left: 1em;\n  padding-right: 1em;\n  padding-bottom: 1em;\n  height: 550px;\n\n  /*font-family: 'Arial', sans-serif; !* 这将更改字体 *!*/\n  font-family: \"Roboto\", sans-serif;\n  font-size: 16px; /* 这将更改字体大小 */\n  color: #333; /* 这将更改文本颜色 */\n  line-height: 1.5; /* 这将更改行高 */\n  letter-spacing: 0.05em; /* 这将更改字符间距 */\n  text-align: justify; /* 这将使文本两端对齐 */\n  overflow-y: scroll;\n}\n\n.el-icon-arrow-down {\n  font-size: 12px;\n}\n\n.el-menu-item i {\n  float: right;\n  margin-top: 5px;\n  cursor: pointer;\n}\n\n.example {\n  background: #ffffff;\n  margin: 20px;\n  border-color: #e7e7e7;\n  padding: 40px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}